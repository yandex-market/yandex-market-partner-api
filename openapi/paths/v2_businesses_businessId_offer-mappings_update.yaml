post:
  tags:
    - business-offer-mappings
    - dbs
    - fby
    - fbs
    - express
    - laas
  x-auth-scopes:
    - all-methods
    - offers-and-cards-management
  operationId: updateOfferMappings
  summary: Добавление товаров в каталог и изменение информации о них
  description: "{% include notitle [:no-translate[access]](../../_auto/method_scopes/updateOfferMappings.md) %}\n\nДобавляет товары в каталог и передает:\n\n* их [листовые категории](*list-categories) на Маркете и категорийные характеристики;\n* основные характеристики;\n* цены на товары в кабинете.\n\nТакже объединяет товары на карточке, редактирует и удаляет информацию об уже добавленных товарах, в том числе цены в кабинете и категории товаров.\n\nСписок категорий Маркета можно получить с помощью запроса [POST\_v2/categories/tree](../../reference/categories/getCategoriesTree.md), а характеристики товаров по категориям с помощью [POST\_v2/category/{categoryId}/parameters](../../reference/content/getCategoryContentParameters.md).\n\n{% cut \"Добавить новый товар\" %}\n\nПередайте его с новым идентификатором, который раньше никогда не использовался в каталоге.\n\nОбязательно укажите параметры: `offerId`, `name`, `marketCategoryId`, `pictures`, `vendor`, `description`.\n\nСтарайтесь сразу передать как можно больше информации — она потребуется Маркету для подбора подходящей карточки или создания новой.\n\nЕсли известно, какой карточке на Маркете соответствует товар, можно сразу указать идентификатор этой карточки (SKU на Маркете) в поле `marketSKU`.\n\n**Для продавцов Market Yandex Go:**\n\nКогда вы добавляете товары в каталог, указывайте значения параметров `name` и `description` на русском языке. Чтобы на витрине они отображались и на другом языке, еще раз выполните запрос `POST v2/businesses/{businessId}/offer-mappings/update`, где укажите:\n\n  * язык в параметре `language`;\n  * значения параметров `name` и `description` на указанном языке.\n\n  Повторно передавать остальные характеристики товара не нужно.\n\n{% endcut %}\n\n{% cut \"Изменить информацию о товаре\" %}\n\nПередайте новые данные, указав в `offerId` SKU товара в вашей системе.\n\nПоля, в которых ничего не меняется, можно не передавать.\n\n{% endcut %}\n\n{% cut \"Удалить переданные ранее параметры товара\" %}\n\nВ `deleteParameters` укажите значения параметров, которые хотите удалить. Можно передать сразу несколько значений.\n\nДля параметров с типом `string` также можно передать пустое значение.\n\n{% endcut %}\n\nПараметр `offerId` (SKU товара в вашей системе) должен быть **уникальным** для всех товаров, которые вы передаете.\n\n{% note warning \"Правила использования SKU\" %}\n\n* У каждого товара SKU должен быть свой.\n\n* Уже заданный SKU нельзя освободить и использовать заново для другого товара. Каждый товар должен получать новый идентификатор, до того никогда не использовавшийся в вашем каталоге.\n\nSKU товара можно изменить в кабинете продавца на Маркете. О том, как это сделать, читайте [в Справке Маркета для продавцов](https://yandex.ru/support2/marketplace/ru/assortment/operations/edit-sku).\n\n{% endnote %}\n\n{% note info \"Данные в каталоге обновляются не мгновенно\" %}\n\nЭто занимает до нескольких минут.\n\n{% endnote %}\n\n|**⚙️ Лимит:** 10 000 товаров в минуту, не более 100 товаров в одном запросе|\n|-|\n"
  parameters:
    - $ref: ../components/parameters/BusinessId.yaml
    - $ref: ../components/parameters/CatalogLanguage.yaml
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: ../components/schemas/UpdateOfferMappingsRequest.yaml
  responses:
    '200':
      description: >
        Запрос выполнен корректно, данные обработаны.


        {% note warning "Ответ `200` сам по себе не значит, что переданные
        значения корректны" %}


        Обязательно посмотрите детали ответа: `status`, а также перечень ошибок
        (`results.errors`) и замечаний (`results.warnings`), если они есть.


        - Если хотя бы по одному товару вернулась ошибка (`results.errors`),
        поле `status` = `ERROR`. Изменения по всем переданным товарам не будут
        применены.

        - Если ошибок нет, но хотя бы по одному товару вернулось замечание
        (`results.warnings`), поле `status` = `OK`, и изменения будут применены.


        {% endnote %}
      content:
        application/json:
          schema:
            $ref: ../components/schemas/UpdateOfferMappingsResponse.yaml
    '400':
      description: >
        Убедитесь, что все обязательные поля заполнены.


        ⚠️ Даже если проблема связана всего с одним товаром в запросе, в каталог
        не отправится ни один.


        |
        **Описание**                                                                     
        |
        **Пояснение**                                                                                                  
        | **Способы
        решения**                                                                                                                                                                                                                               
        |

        |-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|

        | :no-translate[**Offer at index ... cannot have parameter ... deleted
        and set at the same time**] | Можно передать либо значение параметра в
        `deleteParameters`, либо соответствующий параметр в `UpdateOfferDTO`. 
        |Чтобы удалить ранее переданный параметр, укажите его значение в
        `deleteParameters` и не передавайте в `UpdateOfferDTO`.<br><br>Если
        хотите установить новое значение параметра, передайте его в
        `UpdateOfferDTO` и не указывайте в `deleteParameters`.|
      $ref: ../components/responses/400.yaml
    '401':
      $ref: ../components/responses/401.yaml
    '403':
      $ref: ../components/responses/403.yaml
    '404':
      $ref: ../components/responses/404.yaml
    '420':
      $ref: ../components/responses/420.yaml
    '423':
      $ref: ../components/responses/423.yaml
    '500':
      $ref: ../components/responses/500.yaml
