put:
  tags:
    - orders
    - fbs
    - dbs
    - express
  x-auth-scopes:
    - all-methods
    - inventory-and-order-processing
  x-resource-limit-config:
    path: resp
    amount: 100000
    period: hours
  operationId: setOrderShipmentBoxes
  summary: Передача количества грузовых мест в заказе
  description: "{% include notitle [:no-translate[access]](../../_auto/method_scopes/setOrderShipmentBoxes.md) %}\n\n{% note warning \"Какой метод использовать вместо устаревшего\" %}\n\n[PUT\_v2/campaigns/{campaignId}/orders/{orderId}/boxes](../../reference/orders/setOrderBoxLayout.md)\n\n{% endnote %}\n\nОтгружаемый Маркету заказ может не влезть в одну коробку или упаковку — в этом случае получается, что он занимает несколько грузовых мест.\n\nКоличество грузовых мест нужно обязательно передавать Маркету, если оно не равно 1. Это делается перед переводом его в статус **Готов к отгрузке**. Подробно о том, что в какой момент нужно передавать, рассказано в [пошаговой инструкции](../../step-by-step/fbs.md).\n\nМетод устроен немного нестандартно: количество задается длиной массива пустых объектов.\n\nРаньше метод требовал передачи большего количества данных. Запросы, оформленные по старому образцу, работают, но лучше делать по-новому.\n\n{% cut \"Как было раньше\" %}\n\nСтруктура тела PUT-запроса:\n\n```text translate=no\n{\n  \"boxes\":\n  [\n    {\n      \"fulfilmentId\": \"{string}\",\n      \"weight\": {int64},\n      \"width\": {int64},\n      \"height\": {int64},\n      \"depth\": {int64},\n      \"items\":\n      [\n        {\n          \"id\": {int64},\n          \"count\": {int32}\n        },\n        ...\n      ]\n    },\n    ...\n  ]\n}\n```\n| **Параметр**  | **Тип**  | **Значение**  |\n| ----------- | ----------- | ----------- |\n| `boxes`       |           | Список грузовых мест.       |\n\n**Параметры, вложенные в `boxes`**\n| **Параметр**  | **Тип**  | **Значение**  |\n| ----------- | ----------- | ----------- |\n| `fulfilmentId`       |  :no-translate[String]   | Идентификатор грузового места в системе магазина. Сформируйте идентификатор по шаблону: `номер заказа на Маркете-номер грузового места`. Например, `7206821‑1, 7206821‑2` и т. д. |\n| `weight`       | :no-translate[Int64]        | Масса брутто грузового места (суммарная масса упаковки и содержимого) в граммах. |\n| `width`       | :no-translate[Int64]   | Ширина грузового места в сантиметрах.       |\n| `height`       | :no-translate[Int64]   | Высота грузового места в сантиметрах.       |\n| `depth`       | :no-translate[Int64]   | Глубина грузового места в сантиметрах.        |\n| `items`       | :no-translate[Int64]   | Список товаров в грузовом месте.       |\n\n**Параметры, вложенные в `items`**\n| **Параметр**  | **Тип**  | **Значение**  |\n| ----------- | ----------- | ----------- |\n| `id`       | :no-translate[Int64]     | Идентификатор товара в рамках заказа.   |\n| `count`    | :no-translate[Int32]     | Количество единиц товара в грузовом месте.       |\n\n{% endcut %}\n\n{% include notitle [:no-translate[limit]](../../_auto/method_limits/setOrderShipmentBoxes.md) %}\n"
  deprecated: true
  parameters:
    - $ref: ../components/parameters/CampaignId.yaml
    - $ref: ../components/parameters/OrderId.yaml
    - $ref: ../components/parameters/ShipmentId.yaml
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: ../components/schemas/SetOrderShipmentBoxesRequest.yaml
  responses:
    '200':
      description: >-
        Имеет значение только тип ответа. Если ответ `ОК`, количество грузомест
        записано.
      content:
        application/json:
          schema:
            $ref: ../components/schemas/SetOrderShipmentBoxesResponse.yaml
    '400':
      description: >-
        Для указанного заказа сейчас нельзя задать количество грузомест, так как
        у заказа неподходящий статус.
      $ref: ../components/responses/400.yaml
    '401':
      $ref: ../components/responses/401.yaml
    '403':
      $ref: ../components/responses/403.yaml
    '404':
      $ref: ../components/responses/404.yaml
    '420':
      $ref: ../components/responses/420.yaml
    '500':
      $ref: ../components/responses/500.yaml
